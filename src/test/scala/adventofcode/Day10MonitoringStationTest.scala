package adventofcode
import org.scalatest._
import org.scalatest.matchers.should.Matchers

class Day10MonitoringStationTest extends FlatSpec with Matchers {
  import Day10MonitoringStation._
  "Day 10:  website 1 sample " should " work" in {
    monitoringStationLocation(
   """|.#..#
      |.....
      |#####
      |....#
      |...##""".stripMargin) should be(Point(3, 4))
  }

  "Day 10:  website 2 sample " should " work" in {
    monitoringStationLocation(
      """......#.#.
        |#..#.#....
        |..#######.
        |.#.#.###..
        |.#..#.....
        |..#....#.#
        |#..#....#.
        |.##.#..###
        |##...#..#.
        |.#....####""".stripMargin) should be(Point(5, 8))
  }

  "Day 10:  website 3 sample " should " work" in {
    monitoringStationLocation(
      """#.#...#.#.
        |.###....#.
        |.#....#...
        |##.#.#.#.#
        |....#.#.#.
        |.##..###.#
        |..#...##..
        |..##....##
        |......#...
        |.####.###.""".stripMargin) should be(Point(1, 2))
  }

  "Day 10:  website 4 sample " should " work" in {
    monitoringStationLocation(
      """.#..#..###
        |####.###.#
        |....###.#.
        |..###.##.#
        |##.##.#.#.
        |....###..#
        |..#.#..#.#
        |#..#.#.###
        |.##...##.#
        |.....#.#..""".stripMargin) should be(Point(6, 3))
  }

  "Day 10:  website 5 sample " should " work" in {
    monitoringStationLocation(
      """.#..##.###...#######
        |##.############..##.
        |.#.######.########.#
        |.###.#######.####.#.
        |#####.##.#.##.###.##
        |..#####..#.#########
        |####################
        |#.####....###.#.#.##
        |##.#################
        |#####.##.###..####..
        |..######..##.#######
        |####.##.####...##..#
        |.#####..#.######.###
        |##...#.##########...
        |#.##########.#######
        |.####.#.###.###.#.##
        |....##.##.###..#####
        |.#.#.###########.###
        |#.#.#.#####.####.###
        |###.##.####.##.#..##""".stripMargin) should be(Point(11, 13))
  }

  "Day 10:  my input " should " work" in {
    visibleAsteroidsFromBestLocation(
      """....#...####.#.#...........#........
        |#####..#.#.#......#####...#.#...#...
        |##.##..#.#.#.....#.....##.#.#..#....
        |...#..#...#.##........#..#.......#.#
        |#...##...###...###..#...#.....#.....
        |##.......#.....#.........#.#....#.#.
        |..#...#.##.##.....#....##..#......#.
        |..###..##..#..#...#......##...#....#
        |##..##.....#...#.#...#......#.#.#..#
        |...###....#..#.#......#...#.......#.
        |#....#...##.......#..#.......#..#...
        |#...........#.....#.....#.#...#.##.#
        |###..#....####..#.###...#....#..#...
        |##....#.#..#.#......##.......#....#.
        |..#.#....#.#.#..#...#.##.##..#......
        |...#.....#......#.#.#.##.....#..###.
        |..#.#.###.......#..#.#....##.....#..
        |.#.#.#...#..#.#..##.#..........#...#
        |.....#.#.#...#..#..#...###.#...#.#..
        |#..#..#.....#.##..##...##.#.....#...
        |....##....#.##...#..........#.##....
        |...#....###.#...##........##.##..##.
        |#..#....#......#......###...........
        |##...#..#.##.##..##....#..#..##..#.#
        |.#....#..##.....#.#............##...
        |.###.........#....#.##.#..#.#..#.#..
        |#...#..#...#.#.#.....#....#......###
        |#...........##.#....#.##......#.#..#
        |....#...#..#...#.####...#.#..#.##...
        |......####.....#..#....#....#....#.#
        |.##.#..###..####...#.......#.#....#.
        |#.###....#....#..........#.....###.#
        |...#......#....##...##..#..#...###..
        |..#...###.###.........#.#..#.#..#...
        |.#.#.............#.#....#...........
        |..#...#.###...##....##.#.#.#....#.#.""".stripMargin) should be(329)
  }

  "Day 10: part two, example location" should " work" in {
    monitoringStationLocation(
      """.#....#####...#..
        |##...##.#####..##
        |##...#...#.#####.
        |..#.....#...###..
        |..#.#.....#....##""".stripMargin) should be(Point(8,3))
  }

  "Day 10:  part two, 1st asteroid" should " work" in {
    asteroidDestroyedAt(
      """.#....#####...#..
        |##...##.#####..##
        |##...#...#.#####.
        |..#.....#...###..
        |..#.#.....#....##""".stripMargin, 1) should be(Point(8,1))
  }

  "Day 10:  part two, 2nd asteroid" should " work" in {
    asteroidDestroyedAt(
      """.#....#####...#..
        |##...##.#####..##
        |##...#...#.#####.
        |..#.....#...###..
        |..#.#.....#....##""".stripMargin, 2) should be(Point(9,0))
  }

  "Day 10:  part two, 3rd asteroid" should " work" in {
    asteroidDestroyedAt(
      """.#....#####...#..
        |##...##.#####..##
        |##...#...#.#####.
        |..#.....#...###..
        |..#.#.....#....##""".stripMargin, 3) should be(Point(9,1))
  }

  "Day 10:  part two, 4 asteroid" should " work" in {
    asteroidDestroyedAt(
      """.#....#####...#..
        |##...##.#####..##
        |##...#...#.#####.
        |..#.....#...###..
        |..#.#.....#....##""".stripMargin, 4) should be(Point(10,0))
  }

  "Day 10:  website 5 sample part 2 " should " work" in {
    asteroidDestroyedAt(
      """.#..##.###...#######
        |##.############..##.
        |.#.######.########.#
        |.###.#######.####.#.
        |#####.##.#.##.###.##
        |..#####..#.#########
        |####################
        |#.####....###.#.#.##
        |##.#################
        |#####.##.###..####..
        |..######..##.#######
        |####.##.####...##..#
        |.#####..#.######.###
        |##...#.##########...
        |#.##########.#######
        |.####.#.###.###.#.##
        |....##.##.###..#####
        |.#.#.###########.###
        |#.#.#.#####.####.###
        |###.##.####.##.#..##""".stripMargin, 200) should be(Point(8,2))
  }

  "Day 10:  my input part2  " should " work" in {
    asteroidDestroyedAt(
      """....#...####.#.#...........#........
        |#####..#.#.#......#####...#.#...#...
        |##.##..#.#.#.....#.....##.#.#..#....
        |...#..#...#.##........#..#.......#.#
        |#...##...###...###..#...#.....#.....
        |##.......#.....#.........#.#....#.#.
        |..#...#.##.##.....#....##..#......#.
        |..###..##..#..#...#......##...#....#
        |##..##.....#...#.#...#......#.#.#..#
        |...###....#..#.#......#...#.......#.
        |#....#...##.......#..#.......#..#...
        |#...........#.....#.....#.#...#.##.#
        |###..#....####..#.###...#....#..#...
        |##....#.#..#.#......##.......#....#.
        |..#.#....#.#.#..#...#.##.##..#......
        |...#.....#......#.#.#.##.....#..###.
        |..#.#.###.......#..#.#....##.....#..
        |.#.#.#...#..#.#..##.#..........#...#
        |.....#.#.#...#..#..#...###.#...#.#..
        |#..#..#.....#.##..##...##.#.....#...
        |....##....#.##...#..........#.##....
        |...#....###.#...##........##.##..##.
        |#..#....#......#......###...........
        |##...#..#.##.##..##....#..#..##..#.#
        |.#....#..##.....#.#............##...
        |.###.........#....#.##.#..#.#..#.#..
        |#...#..#...#.#.#.....#....#......###
        |#...........##.#....#.##......#.#..#
        |....#...#..#...#.####...#.#..#.##...
        |......####.....#..#....#....#....#.#
        |.##.#..###..####...#.......#.#....#.
        |#.###....#....#..........#.....###.#
        |...#......#....##...##..#..#...###..
        |..#...###.###.........#.#..#.#..#...
        |.#.#.............#.#....#...........
        |..#...#.###...##....##.#.#.#....#.#.""".stripMargin, 200) should be(Point(5,12))
  }

}
